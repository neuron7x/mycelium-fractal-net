{
  "openapi": "3.1.0",
  "info": {
    "title": "MyceliumFractalNet API",
    "description": "Bio-inspired adaptive network with fractal dynamics",
    "version": "4.1.0"
  },
  "paths": {
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Health check endpoint.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/validate": {
      "post": {
        "summary": "Validate",
        "description": "Run validation cycle and return metrics.",
        "operationId": "validate_validate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ValidateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/simulate": {
      "post": {
        "summary": "Simulate",
        "description": "Simulate mycelium field.",
        "operationId": "simulate_simulate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimulateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/nernst": {
      "post": {
        "summary": "Nernst",
        "description": "Compute Nernst potential.",
        "operationId": "nernst_nernst_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NernstRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NernstResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/federated/aggregate": {
      "post": {
        "summary": "Aggregate Gradients",
        "description": "Aggregate gradients using hierarchical Krum.",
        "operationId": "aggregate_gradients_federated_aggregate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FederatedAggregateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FederatedAggregateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "FederatedAggregateRequest": {
        "properties": {
          "gradients": {
            "items": {
              "items": {
                "type": "number"
              },
              "type": "array"
            },
            "type": "array",
            "title": "Gradients"
          },
          "num_clusters": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 1.0,
            "title": "Num Clusters",
            "default": 10
          },
          "byzantine_fraction": {
            "type": "number",
            "maximum": 0.5,
            "minimum": 0.0,
            "title": "Byzantine Fraction",
            "default": 0.2
          }
        },
        "type": "object",
        "required": [
          "gradients"
        ],
        "title": "FederatedAggregateRequest",
        "description": "Request parameters for federated gradient aggregation.\n\nUses Hierarchical Krum aggregation for Byzantine-robust learning.\n\nAttributes:\n    gradients: List of gradient vectors from federated clients.\n        Each gradient is a list of float values.\n    num_clusters: Number of clusters for hierarchical aggregation.\n        Range: [1, 1000]. Default: 10.\n    byzantine_fraction: Expected fraction of Byzantine (malicious) clients.\n        Range: [0.0, 0.5]. Default: 0.2."
      },
      "FederatedAggregateResponse": {
        "properties": {
          "aggregated_gradient": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "title": "Aggregated Gradient"
          },
          "num_input_gradients": {
            "type": "integer",
            "title": "Num Input Gradients"
          }
        },
        "type": "object",
        "required": [
          "aggregated_gradient",
          "num_input_gradients"
        ],
        "title": "FederatedAggregateResponse",
        "description": "Response from federated aggregation.\n\nAttributes:\n    aggregated_gradient: Aggregated gradient vector after Krum selection.\n    num_input_gradients: Number of input gradients processed."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "default": "healthy"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "default": "4.1.0"
          }
        },
        "type": "object",
        "title": "HealthResponse",
        "description": "Health check response."
      },
      "NernstRequest": {
        "properties": {
          "z_valence": {
            "type": "integer",
            "maximum": 3.0,
            "minimum": 1.0,
            "title": "Z Valence",
            "default": 1
          },
          "concentration_out_molar": {
            "type": "number",
            "exclusiveMinimum": 0.0,
            "title": "Concentration Out Molar"
          },
          "concentration_in_molar": {
            "type": "number",
            "exclusiveMinimum": 0.0,
            "title": "Concentration In Molar"
          },
          "temperature_k": {
            "type": "number",
            "maximum": 373.0,
            "minimum": 273.0,
            "title": "Temperature K",
            "default": 310.0
          }
        },
        "type": "object",
        "required": [
          "concentration_out_molar",
          "concentration_in_molar"
        ],
        "title": "NernstRequest",
        "description": "Request parameters for Nernst potential computation.\n\nAttributes:\n    z_valence: Ion valence (K+=1, Ca2+=2, Cl-=1). Range: [1, 3]. Default: 1.\n    concentration_out_molar: Extracellular concentration (mol/L). Must be > 0.\n    concentration_in_molar: Intracellular concentration (mol/L). Must be > 0.\n    temperature_k: Temperature in Kelvin. Range: [273, 373]. Default: 310 (37\u00b0C)."
      },
      "NernstResponse": {
        "properties": {
          "potential_mV": {
            "type": "number",
            "title": "Potential Mv"
          }
        },
        "type": "object",
        "required": [
          "potential_mV"
        ],
        "title": "NernstResponse",
        "description": "Response from Nernst potential computation.\n\nAttributes:\n    potential_mV: Computed membrane potential in millivolts."
      },
      "SimulateRequest": {
        "properties": {
          "seed": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Seed",
            "default": 42
          },
          "grid_size": {
            "type": "integer",
            "maximum": 256.0,
            "minimum": 8.0,
            "title": "Grid Size",
            "default": 64
          },
          "steps": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 1.0,
            "title": "Steps",
            "default": 64
          },
          "alpha": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Alpha",
            "default": 0.18
          },
          "spike_probability": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Spike Probability",
            "default": 0.25
          },
          "turing_enabled": {
            "type": "boolean",
            "title": "Turing Enabled",
            "default": true
          }
        },
        "type": "object",
        "title": "SimulateRequest",
        "description": "Request parameters for mycelium field simulation.\n\nAttributes:\n    seed: Random seed for reproducibility. Range: [0, \u221e). Default: 42.\n    grid_size: Size of simulation grid (NxN). Range: [8, 256]. Default: 64.\n    steps: Number of simulation steps. Range: [1, 1000]. Default: 64.\n    alpha: Diffusion coefficient (CFL stability requires <= 0.25).\n        Range: [0.0, 1.0]. Default: 0.18.\n    spike_probability: Probability of growth events per step.\n        Range: [0.0, 1.0]. Default: 0.25.\n    turing_enabled: Enable Turing morphogenesis. Default: True."
      },
      "SimulateResponse": {
        "properties": {
          "growth_events": {
            "type": "integer",
            "title": "Growth Events"
          },
          "pot_min_mV": {
            "type": "number",
            "title": "Pot Min Mv"
          },
          "pot_max_mV": {
            "type": "number",
            "title": "Pot Max Mv"
          },
          "pot_mean_mV": {
            "type": "number",
            "title": "Pot Mean Mv"
          },
          "pot_std_mV": {
            "type": "number",
            "title": "Pot Std Mv"
          },
          "fractal_dimension": {
            "type": "number",
            "title": "Fractal Dimension"
          }
        },
        "type": "object",
        "required": [
          "growth_events",
          "pot_min_mV",
          "pot_max_mV",
          "pot_mean_mV",
          "pot_std_mV",
          "fractal_dimension"
        ],
        "title": "SimulateResponse",
        "description": "Response from field simulation.\n\nContains growth events, potential statistics, and fractal dimension.\n\nAttributes:\n    growth_events: Number of growth events during simulation.\n    pot_min_mV: Minimum potential in millivolts.\n    pot_max_mV: Maximum potential in millivolts.\n    pot_mean_mV: Mean potential in millivolts.\n    pot_std_mV: Standard deviation of potential in millivolts.\n    fractal_dimension: Box-counting fractal dimension (D \u2208 [0, 2])."
      },
      "ValidateRequest": {
        "properties": {
          "seed": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Seed",
            "default": 42
          },
          "epochs": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Epochs",
            "default": 1
          },
          "batch_size": {
            "type": "integer",
            "maximum": 64.0,
            "minimum": 1.0,
            "title": "Batch Size",
            "default": 4
          },
          "grid_size": {
            "type": "integer",
            "maximum": 256.0,
            "minimum": 8.0,
            "title": "Grid Size",
            "default": 64
          },
          "steps": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 1.0,
            "title": "Steps",
            "default": 64
          },
          "turing_enabled": {
            "type": "boolean",
            "title": "Turing Enabled",
            "default": true
          },
          "quantum_jitter": {
            "type": "boolean",
            "title": "Quantum Jitter",
            "default": false
          }
        },
        "type": "object",
        "title": "ValidateRequest",
        "description": "Request parameters for validation cycle.\n\nAttributes:\n    seed: Random seed for reproducibility. Range: [0, \u221e). Default: 42.\n    epochs: Number of training epochs. Range: [1, 100]. Default: 1.\n    batch_size: Batch size for training. Range: [1, 64]. Default: 4.\n    grid_size: Size of simulation grid (NxN). Range: [8, 256]. Default: 64.\n    steps: Number of simulation steps. Range: [1, 1000]. Default: 64.\n    turing_enabled: Enable Turing morphogenesis. Default: True.\n    quantum_jitter: Enable quantum noise jitter. Default: False."
      },
      "ValidateResponse": {
        "properties": {
          "loss_start": {
            "type": "number",
            "title": "Loss Start"
          },
          "loss_final": {
            "type": "number",
            "title": "Loss Final"
          },
          "loss_drop": {
            "type": "number",
            "title": "Loss Drop"
          },
          "pot_min_mV": {
            "type": "number",
            "title": "Pot Min Mv"
          },
          "pot_max_mV": {
            "type": "number",
            "title": "Pot Max Mv"
          },
          "example_fractal_dim": {
            "type": "number",
            "title": "Example Fractal Dim"
          },
          "lyapunov_exponent": {
            "type": "number",
            "title": "Lyapunov Exponent"
          },
          "growth_events": {
            "type": "number",
            "title": "Growth Events"
          },
          "nernst_symbolic_mV": {
            "type": "number",
            "title": "Nernst Symbolic Mv"
          },
          "nernst_numeric_mV": {
            "type": "number",
            "title": "Nernst Numeric Mv"
          }
        },
        "type": "object",
        "required": [
          "loss_start",
          "loss_final",
          "loss_drop",
          "pot_min_mV",
          "pot_max_mV",
          "example_fractal_dim",
          "lyapunov_exponent",
          "growth_events",
          "nernst_symbolic_mV",
          "nernst_numeric_mV"
        ],
        "title": "ValidateResponse",
        "description": "Response from validation cycle.\n\nContains loss metrics, potential statistics, and validation results.\n\nAttributes:\n    loss_start: Initial loss value before training.\n    loss_final: Final loss value after training.\n    loss_drop: Absolute loss reduction (loss_start - loss_final).\n    pot_min_mV: Minimum potential in millivolts.\n    pot_max_mV: Maximum potential in millivolts.\n    example_fractal_dim: Example fractal dimension from simulation.\n    lyapunov_exponent: Lyapunov exponent (negative = stable).\n    growth_events: Average growth events per simulation.\n    nernst_symbolic_mV: Symbolic Nernst potential (mV).\n    nernst_numeric_mV: Numeric Nernst potential (mV)."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
}